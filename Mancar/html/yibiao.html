<!DOCTYPE html>
<html lang="en">

<head>
    <title>示波器页面</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="../css/common.css" rel="stylesheet">
    <link href="../css/oscillograph.css" rel="stylesheet">
    <style>
        .content_center {
            background: #0D0918;
        }
        /*仪表*/
        
        .dian {
            width: 50px;
            height: 50px;
            position: absolute;
            top: 300px;
            left: 282px;
            /*z-index: -1;*/
        }
        
        img {
            /*border: 1px solid red;*/
            width: 150px;
            height: 100px;
        }
        
        .imgs {
            width: 500px;
            height: 1px;
            border: 1px solid red;
            position: absolute;
            left: 0px;
            z-index: 3;
            top: 50%;
            display: none;
        }
        
        .content_center * {
            border: 1px solid red;
            overflow: auto;
        }
        
        .content_wrap {
            width: 47%;
            height: 450px;
            border: 1px solid gold;
            display: inline-block;
        }
    </style>
</head>

<body>
    <div class="wrap">
        <!--header-->
        <div class="header clear_float">
            <div class="header_left">
                <a href="../html/progress.html">进度条</a>
                <a href="../html/yibiao.html">仪表</a>
                <span>采集-new</span>
                <span>工程</span>
                <span>操作</span>
                <span>帮助</span>
            </div>
            <div class="header_right">
                <span class="minus"><img src="../img/progress/reduce-1.png" alt=""></span>
                <span class="fullscreen"><img src="../img/progress/full_screen.png" alt=""></span>
                <span class="retweet"><img src="../img/progress/restore.png" alt=""></span>
                <span class="remove"><img src="../img/progress/close.png" alt=""></span>
            </div>
        </div>
        <!--content-->
        <div class="content clear_float">
            <div class="content_left">
                <ul>
                    <li><img class="pitch_off" src="../img/osc/document.png" alt=""></li>
                    <li><img class="blow" src="../img/osc/folder.png" alt=""></li>
                    <li><img class="reduce" src="../img/osc/mail---incoming.png" alt=""></li>
                    <li><img class="translate" src="../img/osc/printer.png" alt=""></li>
                </ul>
            </div>
            <div class="content_center">
                <!--<div class="line_title">
                    仪表
                </div>-->
                <!--速度表-->
                <div class="speed content_wrap">
                    <div id="speed_main" style="min-width: 310px;height:450px;"></div>
                </div>
                <!--温度表-->
                <div class="temp_box content_wrap">
                    <!--冷却液温度-->
                    <div class="tempBox" id="tempBox">
                    </div>
                    <!--温度传感器-->
                    <div class="temperature_sensor" id="temperature_sensor">

                    </div>
                </div>
                <!--转速表-->
                <div class="tachometer content_wrap">
                </div>

                <!--油压-->
                <div class="oil_pressure content_wrap">

                </div>
                <!--<div id="container" style="min-width: 310px; height: 650px; margin: 0 auto"></div>-->
            </div>
            <div class="content_right">
                <div class="right_part1">
                    <div class="part1_title part_title">
                        <img src="../img/osc/pause.png" alt=""> <span>采集间隔&nbsp;(ms)</span>
                        <div class="box">
                            <div class="showMsg"></div>
                            <div class="problem"></div>
                            <ul class="item-wrap">
                                <li>5</li>
                                <li>10</li>
                                <li>15</li>
                                <li>20</li>
                                <li>25</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="right_part2">
                    <table class="osctable" cellspacing="0">
                        <tr>
                            <th>变量名称</th>
                            <th>当前值</th>
                            <th>单位</th>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        <div class="footer">
            <span><img src="../img/osc/footer-tips.png" alt=""></span>
            <span>无配置文件</span>
            <span>无连接</span>
            <span>NODEVICE</span>
        </div>
    </div>
</body>

<script src="../js/zoom.js"></script>
<script src="../js/jquery.min.1.js"></script>
<script src="../js/dropdown.js">
</script>
<script>
    var content = document.getElementsByClassName("content")[0];
    $.ajax({
            "url": "../../carManga/json/datatable.json",
            "type": "get",
            "success": function(res) {
                console.log(res);
                var jsonHtml = "";
                console.log(res.length);
                for (var i = 0; i < res.length; i++) {
                    jsonHtml += '<tr><td><span class="idcolor"></span><span class="idname">' + res[i].name + '</span></td>' +
                        '<td>' + res[i].id + '</td>' +
                        '<td>' + res[i].price + '</td></tr>'
                }
                // console.log(jsonHtml);
                $(".osctable").append(jsonHtml);
            }
        })
        // selected
    $(".problem").click(function(e) {
        console.log("aa");
        $(".item-wrap").slideToggle();
        e.stopPropagation();
    });

    //下拉框功能实现
    $(".showMsg").html(05);
    $(".item-wrap").on("click", "li", function(e) {

        var checkVal = $(this).text();
        $(".showMsg").html(checkVal);
        $(".item-wrap").fadeOut();
        e.stopPropagation();
    });
</script>
<!--echarts波形图-->
<!--<script src="../mystyle.js"></script>-->
<!--<script type="text/javascript" src="https://cdn.bootcss.com/echarts/2.2.7/echarts-all.js"></script>-->
<script type="text/javascript" src="../../echarts/js/echarts.js"></script>
<script>
    //s -------------------------------------------速度表
    var myChart = echarts.init(document.getElementById('speed_main'));
    var option = null;
    // 基于准备好的dom，初始化echarts实例
    // var myChart = echarts.init(document.getElementById('main'));
    var timeTicket = '';
    // 指定图表的配置项和数据
    var option = {
        title: {
            text: "MHP",
            left: 'center',
            itemGap: 50,
            textStyle: {
                //文字颜色
                color: '#B3232D',
                //字体风格,'normal','italic','oblique'
                fontStyle: 'normal',
                //字体粗细 'normal','bold','bolder','lighter',100 | 200 | 300 | 400...
                // fontWeight: 'bold',
                //字体系列
                fontFamily: 'sans-serif',
                //字体大小
                fontSize: 28
                    // textAlign: 'center'
            }
        },
        backgroundColor: '#0d0918', //仪表盘的背景色
        tooltip: {
            formatter: "{a} <br/>{c} {b}"
        },
        toolbox: {
            show: true,
            feature: {
                mark: {
                    show: true
                },
                restore: {
                    show: true //重置
                },
                saveAsImage: { //保存图片
                    show: true
                }
            }
        },

        series: [{
            name: 'MPH',
            center: ['50%', '58%'],
            //类型
            type: 'gauge',
            //半径
            radius: 230,
            //起始角度。圆心 正右手侧为0度，正上方为90度，正左手侧为180度。
            // startAngle: 180,
            //结束角度。
            // endAngle: 0,
            min: 10,
            max: 140,
            splitNumber: 26,
            axisLine: { // 坐标轴线
                lineStyle: { // 属性lineStyle控制线条样式
                    color: [
                        [0.01, 'white'],
                        [0.02, '#B3232D'],
                        [0.03, '#B3232D'],
                        [0.04, 'white'],
                        [0.05, '#B3232D'],
                        // [0.055, 'red'],
                        [0.06, '#B3232D'],
                        [0.07, '#B3232D'],
                        [0.08, 'white'],
                        [0.09, '#B3232D'],

                        [0.1, '#B3232D'],
                        [0.11, '#B3232D'],

                        [0.12, 'white'],
                        [0.13, '#B3232D'],
                        [0.14, '#B3232D'],
                        [0.15, '#B3232D'],
                        [0.16, 'white'],
                        [0.17, '#B3232D'],
                        [0.18, '#B3232D'],
                        [0.19, 'white'],
                        [0.2, 'white'],
                        [0.21, '#B3232D'],
                        [0.22, '#B3232D'],
                        [0.23, 'white'],
                        [0.24, 'white'],
                        [0.25, '#B3232D'],
                        [0.26, '#B3232D'],
                        [0.27, 'white'],
                        [0.28, '#B3232D'],
                        [0.29, '#B3232D'],
                        [0.3, '#B3232D'],
                        [0.32, 'white'],
                        [0.33, '#B3232D'],
                        [0.34, '#B3232D'],
                        [0.35, 'white'],
                        [0.36, '#B3232D'],
                        [0.37, '#B3232D'],
                        [0.38, '#B3232D'],
                        [0.39, 'white'],
                        [0.4, '#B3232D'],
                        [0.41, '#B3232D'],
                        [0.42, '#B3232D'],
                        [0.43, 'white'],
                        [0.44, '#B3232D'],
                        [0.45, '#B3232D'],
                        [0.46, 'white'],
                        [0.47, 'white'],
                        [0.48, '#B3232D'],
                        [0.49, '#B3232D'],
                        [0.50, 'white'],
                        [0.51, '#B3232D'],
                        [0.52, '#B3232D'],
                        [0.53, '#B3232D'],
                        [0.54, 'white'],
                        [0.55, '#B3232D'],
                        [0.57, '#B3232D'],
                        [0.58, 'white'],
                        [0.59, '#B3232D'],
                        [0.61, '#B3232D'],
                        [0.62, 'white'],
                        [0.63, '#B3232D'],
                        [0.64, '#B3232D'],
                        [0.65, '#B3232D'],
                        [0.66, 'white'],
                        [0.67, '#B3232D'],
                        [0.68, '#B3232D'],

                        [0.69, 'white'],
                        [0.70, 'white'],

                        [0.71, '#B3232D'],
                        [0.72, '#B3232D'],
                        [0.73, 'white'],

                        [0.74, 'white'],
                        [0.75, '#B3232D'],
                        [0.76, '#B3232D'],
                        [0.77, 'white'],
                        [0.78, '#B3232D'],
                        [0.80, '#B3232D'],
                        [0.81, 'white'],
                        [0.82, '#B3232D'],
                        [0.84, '#B3232D'],
                        [0.85, 'white'],
                        [0.86, '#B3232D'],
                        [0.88, '#B3232D'],
                        [0.89, 'white'],
                        [0.90, '#B3232D'],
                        [0.92, '#B3232D'],
                        [0.93, 'white'],
                        [0.94, '#B3232D'],
                        [0.96, '#B3232D'],
                        [0.97, 'white'],
                        [0.98, '#B3232D'],
                        [0.99, '#B3232D'],
                        [0.999, 'white'],
                    ],
                    // color: 'white',
                    width: 5, //外圆的轴线的宽度
                    opacity: 0
                }
            },
            axisTick: { // 坐标轴小标记
                show: true, //小刻度显示与否
                splitNumber: 3, //每一份分为3份
                // width: 3,
                length: 15, // 属性length控制线长
                lineStyle: { // 属性lineStyle控制线条样式
                    // color: '#B3232D',
                    color: 'auto',
                    width: 3,
                    opacity: 1
                }
            },
            splitLine: { // 分隔线
                show: true,
                length: 25, // 属性length控制线长
                lineStyle: { // 属性lineStyle（详见lineStyle）控制线条样式
                    width: 3,
                    option: 1,
                    color: "auto",
                }
            },
            title: {
                textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                    fontSize: 27,
                    color: '#B3232D',
                    shadowColor: '#fff', //默认透明
                }
            },
            axisLabel: { // 坐标轴小标记
                // show: false,
                textStyle: { // 属性lineStyle控制线条样式
                    // fontWeight: 'solid',
                    color: '#B3232D',
                    fontSize: 26,
                },
                formatter: function(v) {
                    switch (v + '') {
                        case '10':
                            return '10';
                        case '20':
                            return '20';
                        case '30':
                            return '30';
                        case '40':
                            return '40';
                        case '50':
                            return '50';
                        case '60':
                            return '60';
                        case '70':
                            return '70';
                        case '80':
                            return '80';
                        case '90':
                            return '90';
                        case '100':
                            return '100';
                        case '110':
                            return '110';
                        case '120':
                            return '120';
                        case '130':
                            return '130';
                        case '140':
                            return '140';
                    }
                }
            },
            pointer: { // 分隔线
                length: '78%',
                width: 6,
                color: 'yellow',
                transition: "1s",
                z: 22,
                backgroundColor: {
                    // image: 'xxx/xxx.png'
                    // 这里可以是图片的 URL，
                    // 或者图片的 dataURI，
                    // 或者 HTMLImageElement 对象，
                    // 或者 HTMLCanvasElement 对象。
                }
            },
            itemStyle: {
                normal: {
                    // 阴影的大小
                    shadowBlur: 200,
                    // 阴影水平方向上的偏移
                    shadowOffsetX: 0,
                    // 阴影垂直方向上的偏移
                    shadowOffsetY: 0,
                    // 阴影颜色
                    shadowColor: 'rgba(0, 0, 255, 0.5)'
                }
            },
            data: [{
                value: 20,
                textStyle: {
                    color: "#25c36c"
                },
                name: 'km/h'
            }]
        }]
    };

    clearInterval(timeTicket);
    timeTicket = setInterval(function() {
        option.series[0].data[0].value = parseInt(Math.random() * 130 + 10);
        myChart.setOption(option, true);
    }, 2000)

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);

    //s -------------------------------------------温度表
    //冷却液温度
    var mytempChart = echarts.init(document.getElementById('tempBox'));
    // var tempoption = null;
    // 基于准备好的dom，初始化echarts实例
    // var myChart = echarts.init(document.getElementById('main'));
    var temptimeTicket = '';
    // 指定图表的配置项和数据
    var tempoption = {
        title: {
            text: "MHP",
            left: 'center',
            itemGap: 50,
            textStyle: {
                //文字颜色
                color: '#B3232D',
                //字体风格,'normal','italic','oblique'
                fontStyle: 'normal',
                //字体粗细 'normal','bold','bolder','lighter',100 | 200 | 300 | 400...
                // fontWeight: 'bold',
                //字体系列
                fontFamily: 'sans-serif',
                //字体大小
                fontSize: 28
                    // textAlign: 'center'
            }
        },
        backgroundColor: '#0d0918', //仪表盘的背景色
        tooltip: {
            formatter: "{a} <br/>{c} {b}"
        },
        toolbox: {
            show: true,
            feature: {
                mark: {
                    show: true
                },
                restore: {
                    show: true //重置
                },
                saveAsImage: { //保存图片
                    show: true
                }
            }
        },

        series: [{
            name: 'MPH',
            center: ['50%', '58%'],
            //类型
            type: 'gauge',
            //半径
            radius: 230,
            //起始角度。圆心 正右手侧为0度，正上方为90度，正左手侧为180度。
            // startAngle: 180,
            //结束角度。
            // endAngle: 0,
            min: 10,
            max: 140,
            splitNumber: 26,
            axisLine: { // 坐标轴线
                lineStyle: { // 属性lineStyle控制线条样式
                    color: [
                        [0.01, 'white'],
                        [0.02, '#B3232D'],
                        [0.03, '#B3232D'],
                        [0.04, 'white'],
                        [0.05, '#B3232D'],
                        // [0.055, 'red'],
                        [0.06, '#B3232D'],
                        [0.07, '#B3232D'],
                        [0.08, 'white'],
                        [0.09, '#B3232D'],

                        [0.1, '#B3232D'],
                        [0.11, '#B3232D'],

                        [0.12, 'white'],
                        [0.13, '#B3232D'],
                        [0.14, '#B3232D'],
                        [0.15, '#B3232D'],
                        [0.16, 'white'],
                        [0.17, '#B3232D'],
                        [0.18, '#B3232D'],
                        [0.19, 'white'],
                        [0.2, 'white'],
                        [0.21, '#B3232D'],
                        [0.22, '#B3232D'],
                        [0.23, 'white'],
                        [0.24, 'white'],
                        [0.25, '#B3232D'],
                        [0.26, '#B3232D'],
                        [0.27, 'white'],
                        [0.28, '#B3232D'],
                        [0.29, '#B3232D'],
                        [0.3, '#B3232D'],
                        [0.32, 'white'],
                        [0.33, '#B3232D'],
                        [0.34, '#B3232D'],
                        [0.35, 'white'],
                        [0.36, '#B3232D'],
                        [0.37, '#B3232D'],
                        [0.38, '#B3232D'],
                        [0.39, 'white'],
                        [0.4, '#B3232D'],
                        [0.41, '#B3232D'],
                        [0.42, '#B3232D'],
                        [0.43, 'white'],
                        [0.44, '#B3232D'],
                        [0.45, '#B3232D'],
                        [0.46, 'white'],
                        [0.47, 'white'],
                        [0.48, '#B3232D'],
                        [0.49, '#B3232D'],
                        [0.50, 'white'],
                        [0.51, '#B3232D'],
                        [0.52, '#B3232D'],
                        [0.53, '#B3232D'],
                        [0.54, 'white'],
                        [0.55, '#B3232D'],
                        [0.57, '#B3232D'],
                        [0.58, 'white'],
                        [0.59, '#B3232D'],
                        [0.61, '#B3232D'],
                        [0.62, 'white'],
                        [0.63, '#B3232D'],
                        [0.64, '#B3232D'],
                        [0.65, '#B3232D'],
                        [0.66, 'white'],
                        [0.67, '#B3232D'],
                        [0.68, '#B3232D'],

                        [0.69, 'white'],
                        [0.70, 'white'],

                        [0.71, '#B3232D'],
                        [0.72, '#B3232D'],
                        [0.73, 'white'],

                        [0.74, 'white'],
                        [0.75, '#B3232D'],
                        [0.76, '#B3232D'],
                        [0.77, 'white'],
                        [0.78, '#B3232D'],
                        [0.80, '#B3232D'],
                        [0.81, 'white'],
                        [0.82, '#B3232D'],
                        [0.84, '#B3232D'],
                        [0.85, 'white'],
                        [0.86, '#B3232D'],
                        [0.88, '#B3232D'],
                        [0.89, 'white'],
                        [0.90, '#B3232D'],
                        [0.92, '#B3232D'],
                        [0.93, 'white'],
                        [0.94, '#B3232D'],
                        [0.96, '#B3232D'],
                        [0.97, 'white'],
                        [0.98, '#B3232D'],
                        [0.99, '#B3232D'],
                        [0.999, 'white'],
                    ],
                    // color: 'white',
                    width: 5, //外圆的轴线的宽度
                    opacity: 0
                }
            },
            axisTick: { // 坐标轴小标记
                show: true, //小刻度显示与否
                splitNumber: 3, //每一份分为3份
                // width: 3,
                length: 15, // 属性length控制线长
                lineStyle: { // 属性lineStyle控制线条样式
                    // color: '#B3232D',
                    color: 'auto',
                    width: 3,
                    opacity: 1
                }
            },
            splitLine: { // 分隔线
                show: true,
                length: 25, // 属性length控制线长
                lineStyle: { // 属性lineStyle（详见lineStyle）控制线条样式
                    width: 3,
                    option: 1,
                    color: "auto",
                }
            },
            title: {
                textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                    fontSize: 27,
                    color: '#B3232D',
                    shadowColor: '#fff', //默认透明
                }
            },
            axisLabel: { // 坐标轴小标记
                // show: false,
                textStyle: { // 属性lineStyle控制线条样式
                    // fontWeight: 'solid',
                    color: '#B3232D',
                    fontSize: 26,
                },
                formatter: function(v) {
                    switch (v + '') {
                        case '10':
                            return '10';
                        case '20':
                            return '20';
                        case '30':
                            return '30';
                        case '40':
                            return '40';
                        case '50':
                            return '50';
                        case '60':
                            return '60';
                        case '70':
                            return '70';
                        case '80':
                            return '80';
                        case '90':
                            return '90';
                        case '100':
                            return '100';
                        case '110':
                            return '110';
                        case '120':
                            return '120';
                        case '130':
                            return '130';
                        case '140':
                            return '140';
                    }
                }
            },
            pointer: { // 分隔线
                length: '78%',
                width: 6,
                color: 'yellow',
                transition: "1s",
                z: 22,
                backgroundColor: {
                    // image: 'xxx/xxx.png'
                    // 这里可以是图片的 URL，
                    // 或者图片的 dataURI，
                    // 或者 HTMLImageElement 对象，
                    // 或者 HTMLCanvasElement 对象。
                }
            },
            itemStyle: {
                normal: {
                    // 阴影的大小
                    shadowBlur: 200,
                    // 阴影水平方向上的偏移
                    shadowOffsetX: 0,
                    // 阴影垂直方向上的偏移
                    shadowOffsetY: 0,
                    // 阴影颜色
                    shadowColor: 'rgba(0, 0, 255, 0.5)'
                }
            },
            data: [{
                value: 20,
                textStyle: {
                    color: "#25c36c"
                },
                name: 'km/h'
            }]
        }]
    };

    clearInterval(temptimeTicket);
    temptimeTicket = setInterval(function() {
        tempoption.series[0].data[0].value = parseInt(Math.random() * 130 + 10);
        mytempChart.setOption(tempoption, true);
    }, 2000)

    // 使用刚指定的配置项和数据显示图表。
    mytempChart.setOption(tempoption);
</script>

</html>